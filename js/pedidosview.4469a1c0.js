"use strict";(self["webpackChunkhamburg"]=self["webpackChunkhamburg"]||[]).push([[408],{291:function(e,t,s){s.r(t),s.d(t,{default:function(){return k}});var a=s(252);const n={class:"main-container"},o=(0,a._)("h1",null,"Gerenciador de pedidos:",-1);function d(e,t,s,d,l,i){const u=(0,a.up)("dashboard");return(0,a.wg)(),(0,a.iD)("div",n,[o,(0,a.Wm)(u)])}var l=s(963),i=s(577);const u=e=>((0,a.dD)("data-v-2650ea4b"),e=e(),(0,a.Cn)(),e),r={id:"burger-table"},c=u((()=>(0,a._)("table",null,[(0,a._)("tr",{id:"burger-table-heding"},[(0,a._)("td",{class:"order-id"},"#"),(0,a._)("td",null,"Cliente:"),(0,a._)("td",null,"Pão:"),(0,a._)("td",null,"Carne:"),(0,a._)("td",null,"Opcionais:"),(0,a._)("td",null,"Acões:")])],-1))),g={class:"burger-table-row"},h={class:"order-number"},b=["onChange"],m=u((()=>(0,a._)("option",{value:""},"Selecione",-1))),p=["value","selected"],w=["onClick"];function _(e,t,s,n,o,d){const u=(0,a.up)("Mensege");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.wy)((0,a.Wm)(u,{msg:o.msg},null,8,["msg"]),[[l.F8,o.msg]]),(0,a._)("table",r,[c,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.burgers,(e=>((0,a.wg)(),(0,a.iD)("table",{id:"burger-table-rows",key:e.id},[(0,a._)("tr",g,[(0,a._)("td",h,(0,i.zw)(e.id),1),(0,a._)("td",null,(0,i.zw)(e.nome),1),(0,a._)("td",null,(0,i.zw)(e.pao),1),(0,a._)("td",null,(0,i.zw)(e.carne),1),(0,a._)("td",null,[(0,a._)("ul",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.opcionais,((e,t)=>((0,a.wg)(),(0,a.iD)("li",{key:t},(0,i.zw)(e),1)))),128))])]),(0,a._)("td",null,[(0,a._)("select",{name:"status",class:"status",onChange:t=>d.updatePedidos(t,e.id)},[m,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.status,(t=>((0,a.wg)(),(0,a.iD)("option",{key:t.id,value:t.tipo,selected:e.status==t.tipo},(0,i.zw)(t.tipo),9,p)))),128))],40,b),(0,a._)("button",{class:"delete-btn",onClick:t=>d.deletePedidos(e.id)},"Cancelar",8,w)])])])))),128))])],64)}var y=s(723),v={name:"dashboard",data(){return{burgers:null,burger_id:null,status:[],msg:null}},components:{Mensege:y.Z},methods:{async getPedidos(){const e=await fetch("https://my-json-server.typicode.com/edsonsales94/dbjason/burgers"),t=await e.json();this.burgers=t,console.log(this.burgers),this.getStatus()},async getStatus(){const e=await fetch("http://localhost:3000/status"),t=await e.json();this.status=t},async deletePedidos(e){const t=await fetch(`https://my-json-server.typicode.com/edsonsales94/dbjason/burgers/${e}`,{method:"DELETE"});await t.json();this.msg="Pedido Cancelado com sucesso",setTimeout((()=>this.msg=""),3e3),this.getPedidos()},async updatePedidos(e,t){const s=e.target.value,a=JSON.stringify({status:s}),n=await fetch(`https://my-json-server.typicode.com/edsonsales94/dbjason/${t}`,{method:"PATCH",headers:{"content-type":"application/json"},body:a}),o=await n.json();this.msg=`Status do pedido ${o.id} foi atualizaso para ${o.status}`,setTimeout((()=>this.msg=""),3e3)}},mounted(){this.getPedidos()}},f=s(744);const C=(0,f.Z)(v,[["render",_],["__scopeId","data-v-2650ea4b"]]);var j=C,D={name:"pedidosviews",components:{dashboard:j}};const P=(0,f.Z)(D,[["render",d]]);var k=P}}]);
//# sourceMappingURL=pedidosview.4469a1c0.js.map